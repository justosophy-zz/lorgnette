(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(74),l=n.n(c),i=(n(84),n(6)),o=n(10),s=n.n(o),u=n(31),m=(n(187),n(32)),f=n.n(m),h=n(75),d=n(76),p=n(77),g=n.n(p),b=n(4),v=Object(b.object)({items:Object(b.array)(Object(b.object)({author:b.string,author_id:b.string,date_taken:b.string,link:b.string,tags:b.string,media:Object(b.object)({m:b.string}),title:b.string}))}),E=function(e,t){var n=v(e)._r;if("Ok"===n.type){var a=n.value;t(a.items.map(function(e){return{author:e.author,author_id:e.author_id,date_taken:e.date_taken,link:e.link,tags:e.tags.split(" "),thumbnail:e.media.m,title:e.title}}))}else t([])},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null;return function(){for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];var i=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(void 0,c)},t),i&&e.apply(void 0,c)}}(function(){var e=Object(h.a)(f.a.mark(function e(){var t,n,a,r,c,l=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1?l[1]:void 0,0!==(a=t.trim()).length){e.next=5;break}return e.abrupt("return");case 5:"https://www.flickr.com/services/feeds/photos_public.gne",r={format:"json",tags:a},c=d.encode(r);try{g()("".concat("https://www.flickr.com/services/feeds/photos_public.gne","?").concat(c),{name:"jsonFlickrFeed"},function(e,t){e?n([]):E(t,n)},{timeout:1e4})}catch(i){n([])}case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),250),k=function(e,t){return function(){w(e,t)}},j=function(e,t,n){return function(){0!==e.trim().length&&0===t.length?n(!0):n(!1)}},O=function(e){return function(){e(window.navigator.onLine);var t=function(){e(window.navigator.onLine)};window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1)}},y=(n(208),function(e){var t=e.closed;return r.a.createElement("svg",{className:s()("logo",{closed:t}),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.a.createElement("path",{fill:"hsla(220, 13%, 5%, 0.75)",d:"M11 5C9.032 5 7.46 6.44 7.125 8.313c-1.89.476-3.53 1.705-4.25 3.656h-.03L.718 17.936C.265 18.863 0 19.904 0 21c0 3.854 3.146 7 7 7 3.472 0 6.365-2.552 6.906-5.875.543.535 1.28.875 2.094.875.814 0 1.55-.34 2.094-.875C18.634 25.448 21.528 28 25 28c3.854 0 7-3.146 7-7 0-.974-.2-1.906-.563-2.75l-2.28-6.375-.032-.03v-.033c-.73-1.77-2.348-3.012-4.25-3.5C24.54 6.442 22.968 5 21 5c-1.857 0-3.362 1.285-3.813 3h-2.375c-.45-1.715-1.955-3-3.812-3zm0 2c1.19 0 2 .81 2 2v1h6V9c0-1.19.81-2 2-2s2 .81 2 2v.906l.906.094c1.486.156 2.766 1.192 3.344 2.53.01.022.022.042.03.064l.75 2.125c-.918-.446-1.944-.72-3.03-.72-2.924 0-5.425 1.817-6.47 4.375C17.996 17.545 17.054 17 16 17c-1.053 0-1.995.544-2.53 1.375C12.424 15.817 9.923 14 7 14c-1.072 0-2.09.253-3 .688l.75-2.032v-.03c.58-1.55 1.808-2.464 3.344-2.626L9 9.906V9c0-1.19.81-2 2-2zm-4 9c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5c0-.708.175-1.36.438-1.97.016-.037.013-.086.03-.124C3.26 17.192 4.98 16 7 16zm18 0c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5 2.227-5 5-5zm-9 3c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1z"}),r.a.createElement("circle",{className:"logo-circle-eye",cx:"7",cy:"21",r:"3",strokeWidth:"0",fill:"#0063DC"}),r.a.createElement("circle",{className:"logo-circle-eye",cx:"25",cy:"21",r:"3",strokeWidth:"0",fill:"#FF0084"}))}),L=(n(209),function(e){var t=e.value,n=e.onChange,c=e.badState,l=void 0!==c&&c,o=e.disabled,u=void 0!==o&&o,m=Object(a.useRef)(null),f=Object(a.useState)(!0),h=Object(i.a)(f,2),d=h[0],p=h[1];return Object(a.useEffect)(function(){m instanceof HTMLInputElement&&d&&(m.focus(),p(!1))},[d]),r.a.createElement("div",{className:"search-input-container"},r.a.createElement("div",null,r.a.createElement("input",{type:"search",id:"search-input",className:s()("search-input",{"search-input--bad-state":!!l}),name:"q","aria-label":"Search flickr",ref:function(e){m=e},placeholder:"Search flickr",maxLength:50,value:u?"search offline":t,onChange:n,disabled:u})))}),_=(n(210),function(e){var t=e.tagsList,n=e.maxLength,c=void 0===n?20:n,l=e.handler,o=e.title,s=Object(a.useState)(!0),u=Object(i.a)(s,2),m=u[0],f=u[1],h=t.length,d=h>c&&m;return r.a.createElement(r.a.Fragment,null,t.slice(0,d?c:h).map(function(e){return r.a.createElement("button",{className:"tag-button",type:"button",title:"Search for '".concat(e,"'"),onClick:function(){return l(e)},key:e},e)}),d&&r.a.createElement("button",{className:"tag-button",type:"button",title:"Show more tags for '".concat(o,"'"),onClick:function(){f(!1)}},"{ more tags.. }"))});var C=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)([]),o=l[0],m=l[1],f=Object(a.useState)(!1),h=Object(i.a)(f,2),d=h[0],p=h[1],g=Object(a.useState)(!0),b=Object(i.a)(g,2),v=b[0],E=b[1],w=Object(a.useRef)(null);return Object(a.useEffect)(k(n,m),[n]),Object(a.useEffect)(j(n,o,p),[o]),Object(a.useEffect)(O(E),[]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:s()("App-header",{"App-header-results":o.length>0}),ref:function(e){w=e}},r.a.createElement("div",{className:"App-lockup"},r.a.createElement(y,{closed:!v}),r.a.createElement(L,{value:n,onChange:function(e){e.currentTarget instanceof HTMLInputElement&&(!1===window.navigator.onLine?E(!1):c(e.currentTarget.value))},badState:d,disabled:!v}))),r.a.createElement("main",{className:"search-results"},r.a.createElement("ul",null,o.map(function(e){var t=e.author.match(/"([^"]+)"/),n="flickr user";t&&"string"===typeof t[1]&&(n=t[1]);var a=Object(u.format)(Object(u.parse)(e.date_taken),"MMMM D YYYY");return r.a.createElement("li",{key:e.thumbnail},r.a.createElement("ul",{className:"result-details"},r.a.createElement("li",{className:"result-thumbnail"},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",title:'View image "'.concat(e.title,'"')},r.a.createElement("img",{src:e.thumbnail,alt:e.title}))),r.a.createElement("li",null,"by"," ",r.a.createElement("a",{href:"https://www.flickr.com/photos/".concat(e.author_id,"/"),target:"_blank",rel:"noopener noreferrer"},n)," ","on"," ",a),r.a.createElement("li",null,r.a.createElement(_,{title:e.title,tagsList:e.tags,maxLength:10,handler:function(e){window.navigator.onLine&&(w instanceof HTMLElement&&w.scrollIntoView(),c(e))}})),r.a.createElement("li",null,r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.link))))}))))},N=document.getElementById("root");null!==N&&l.a.render(r.a.createElement(C,null),N)},78:function(e,t,n){e.exports=n(211)},84:function(e,t,n){}},[[78,1,2]]]);
//# sourceMappingURL=main.769c3907.chunk.js.map