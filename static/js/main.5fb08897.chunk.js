(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(63),l=n.n(r),o=(n(73),n(2)),i=n(14),u=n.n(i),s=n(25),m=(n(176),n(26)),f=n.n(m),h=n(64),p=n(65),g=n(66),d=n.n(g),b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null;return function(){for(var c=arguments.length,r=new Array(c),l=0;l<c;l++)r[l]=arguments[l];var o=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(void 0,r)},t),o&&e.apply(void 0,r)}}(function(){var e=Object(h.a)(f.a.mark(function e(){var t,n,a,c,r,l=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1?l[1]:void 0,0!==(a=t.trim()).length){e.next=5;break}return e.abrupt("return");case 5:"https://www.flickr.com/services/feeds/photos_public.gne",c={format:"json",tags:a},r=p.encode(c);try{d()("https://www.flickr.com/services/feeds/photos_public.gne?"+r,{name:"jsonFlickrFeed"},function(e,t){n(e?[]:t.items)},{timeout:1e4})}catch(o){console.log("dude")}case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),250),E=(n(184),function(){return c.a.createElement("svg",{className:"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},c.a.createElement("path",{fill:"hsla(220, 13%, 5%, 0.75)",d:"M11 5C9.032 5 7.46 6.44 7.125 8.313c-1.89.476-3.53 1.705-4.25 3.656h-.03L.718 17.936C.265 18.863 0 19.904 0 21c0 3.854 3.146 7 7 7 3.472 0 6.365-2.552 6.906-5.875.543.535 1.28.875 2.094.875.814 0 1.55-.34 2.094-.875C18.634 25.448 21.528 28 25 28c3.854 0 7-3.146 7-7 0-.974-.2-1.906-.563-2.75l-2.28-6.375-.032-.03v-.033c-.73-1.77-2.348-3.012-4.25-3.5C24.54 6.442 22.968 5 21 5c-1.857 0-3.362 1.285-3.813 3h-2.375c-.45-1.715-1.955-3-3.812-3zm0 2c1.19 0 2 .81 2 2v1h6V9c0-1.19.81-2 2-2s2 .81 2 2v.906l.906.094c1.486.156 2.766 1.192 3.344 2.53.01.022.022.042.03.064l.75 2.125c-.918-.446-1.944-.72-3.03-.72-2.924 0-5.425 1.817-6.47 4.375C17.996 17.545 17.054 17 16 17c-1.053 0-1.995.544-2.53 1.375C12.424 15.817 9.923 14 7 14c-1.072 0-2.09.253-3 .688l.75-2.032v-.03c.58-1.55 1.808-2.464 3.344-2.626L9 9.906V9c0-1.19.81-2 2-2zm-4 9c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5c0-.708.175-1.36.438-1.97.016-.037.013-.086.03-.124C3.26 17.192 4.98 16 7 16zm18 0c2.773 0 5 2.227 5 5s-2.227 5-5 5-5-2.227-5-5 2.227-5 5-5zm-9 3c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1z"}),c.a.createElement("circle",{cx:"7",cy:"21",r:"3",strokeWidth:"0",fill:"#0063DC"}),c.a.createElement("circle",{cx:"25",cy:"21",r:"3",strokeWidth:"0",fill:"#FF0084"}))}),v=(n(185),function(e){var t=e.value,n=e.onChange,r=e.badState,l=void 0!==r&&r,i=Object(a.useRef)(null),s=Object(a.useState)(!0),m=Object(o.a)(s,2),f=m[0],h=m[1];return Object(a.useEffect)(function(){i instanceof HTMLInputElement&&f&&(i.focus(),h(!1))},[f]),c.a.createElement("div",{className:"search-input-container"},c.a.createElement("input",{type:"search",id:"search-input",className:u()("search-input",{"search-input--bad-state":!!l}),name:"q","aria-label":"Search flickr",ref:function(e){return i=e},placeholder:"Search flickr",maxLength:50,value:t,onChange:n}))}),w=(n(186),function(e){var t=e.tagsList,n=e.maxLength,r=void 0===n?20:n,l=e.handler,i=e.title,u=Object(a.useState)(!0),s=Object(o.a)(u,2),m=s[0],f=s[1],h=t.length,p=h>r&&m;return console.log("taaags"),c.a.createElement(c.a.Fragment,null,t.slice(0,p?r:h).map(function(e){return c.a.createElement("button",{className:"tag-button",type:"button",title:"Search for '".concat(e,"'"),onClick:function(){return l(e)},key:e},e)}),p&&c.a.createElement("button",{className:"tag-button",type:"button",title:"Show more tags for '".concat(i,"'"),onClick:function(){f(!1)}},"{ more tags.. }"))});var k=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)([]),i=Object(o.a)(l,2),m=i[0],f=i[1],h=Object(a.useState)(!1),p=Object(o.a)(h,2),g=p[0],d=p[1],k=Object(a.useRef)(null);return Object(a.useEffect)(function(){b(n,f)},[n]),Object(a.useEffect)(function(){0!==n.trim().length&&0===m.length?(console.log("bad result",{searchResults:m}),d(!0)):d(!1)},[m]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:u()("App-header",{"App-header-results":m.length>0}),ref:function(e){return k=e}},c.a.createElement("div",{className:"App-lockup"},c.a.createElement(E,null),c.a.createElement(v,{value:n,onChange:function(e){e.currentTarget instanceof HTMLInputElement&&r(e.currentTarget.value)},badState:g}))),c.a.createElement("main",{className:"search-results"},c.a.createElement("ul",null,m.map(function(e){return e.author.match(/"([^"]+)"/)[1],c.a.createElement("li",{key:e.media.m},c.a.createElement("ul",{className:"result-details"},c.a.createElement("li",{className:"result-thumbnail"},c.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",title:'View image "'.concat(e.title,'"')},c.a.createElement("img",{src:e.media.m,alt:e.title}))),c.a.createElement("li",null,"by"," ",c.a.createElement("a",{href:"https://www.flickr.com/photos/".concat(e.author_id,"/"),target:"_blank",rel:"noopener noreferrer"},e.author.match(/"([^"]+)"/)[1])," ","on ",Object(s.format)(Object(s.parse)(e.date_taken),"MMMM D YYYY")),c.a.createElement("li",null,c.a.createElement(w,{title:e.title,tagsList:e.tags.split(" "),maxLength:10,handler:function(e){k instanceof HTMLElement&&k.scrollIntoView(),r(e)}})),c.a.createElement("li",null,c.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.link))))}))))},j=document.getElementById("root");null!==j&&l.a.render(c.a.createElement(k,null),j)},67:function(e,t,n){e.exports=n(187)},73:function(e,t,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.5fb08897.chunk.js.map